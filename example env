# OIP Configuration
REGISTRATION_LIMIT=50
PORT=3005
JWT_SECRET=

# Public API Base URL (for generating media URLs)
# Set this to your public domain when deploying (e.g., https://oip.fitnessally.io)
# Leave empty for local development (will auto-detect from requests)
PUBLIC_API_BASE_URL=

# Arweave Configuration
WALLET_FILE=config/arweave-keyfile.json

# AR.IO Gateway Configuration (Local Arweave Gateway)
# When running standard or standard-gpu profiles, a local AR.IO gateway is available
# This provides direct access to the Arweave network with GraphQL support
# Set to 'true' to use local gateway, 'false' to use arweave.net
ARIO_GATEWAY_ENABLED=true
# AR.IO Gateway Port (external host port - configurable for multi-stack deployments)
# Default: 4000
# Internal Docker network address (automatically uses service name and internal port 4000)
# Note: Internal port is always 4000 (AR.IO gateway container requirement)
# External port is configurable via ARIO_GATEWAY_PORT env var
ARIO_GATEWAY_PORT=4000
# Internal Docker network address (use service name - port always 4000 internally)
ARIO_GATEWAY_HOST=http://ario-gateway:4000
# External host address (for host access - uses ARIO_GATEWAY_PORT)
# Note: This is automatically constructed from ARIO_GATEWAY_PORT, but can be overridden
ARIO_GATEWAY_HOST_EXTERNAL=http://localhost:4000
# AR.IO Gateway Data Storage Path
# Path where AR.IO gateway cache/data will be stored on host filesystem
# Default: ./ario_gateway_data (relative to project root)
ARIO_GATEWAY_DATA_PATH=./ario_gateway_data

# Turbo SDK Configuration (ArDrive)
# These environment variables may help resolve ERR_INVALID_URL errors
# TURBO_API=https://payment.ardrive.io
# TURBO_LOGIN=https://payment.ardrive.io/login
# TURBO_UPLOAD_SERVICE_URL=https://upload.ardrive.io
# TURBO_PAYMENT_SERVICE_URL=https://payment.ardrive.io

# Elasticsearch Configuration
ELASTICSEARCHHOST=http://elasticsearch:9200
ELASTICCLIENTUSERNAME=elastic
ELASTICCLIENTPASSWORD=yourpassword

# Elasticsearch Data Storage Path
# Path where Elasticsearch data will be stored on host filesystem
# Uses bind mount instead of Docker-managed volume to avoid disk space issues
# Default: ./elasticsearch_data (relative to project root)
# For more space, use absolute path like: /data/elasticsearch
ELASTICSEARCH_DATA_PATH=./elasticsearch_data

# Elasticsearch Client Recreation Interval (milliseconds)
# Periodically recreates the ES client to prevent memory leaks from Undici connection pooling
# Default: 1800000 (30 minutes)
# Lower values = more frequent recreation but higher connection overhead
ES_CLIENT_RECREATION_INTERVAL=1800000

# GraphQL Client Recreation Interval (milliseconds)
# Periodically recreates the GraphQL client used for Arweave queries to prevent socket/buffer leaks
# Default: 1800000 (30 minutes)
# Lower values = more frequent recreation, reducing connection accumulation
GRAPHQL_CLIENT_RECREATION_INTERVAL=1800000

# API Keys
OPENAI_API_KEY=
XAI_API_KEY=
XAI_BEARER_TOKEN=

# X (Twitter) API Configuration
# Get from: https://developer.twitter.com/en/portal/dashboard
# Required for reliable X post archiving (otherwise scraping may fail)
X_BEARER_TOKEN=
TWITTER_BEARER_TOKEN=  # Legacy alias, use X_BEARER_TOKEN instead

NGROK_AUTH_TOKEN=
GOOGLE_CLOUD_API_KEY=
GOOGLE_APPLICATION_CREDENTIALS=config/google-service-account-key.json
GOOGLE_API_TOKEN=
ELEVENLABS_API_KEY=
ELEVENLABS_VOICE_ID=21m00Tcm4TlvDq8ikWAM
FIRECRAWL=

# Ngrok Domain Configuration
NGROK_DOMAIN=
# Examples:
# NGROK_DOMAIN=api.oip.onl           # For GPU nodes
# NGROK_DOMAIN=mynode.oip.onl        # For custom domains
# NGROK_DOMAIN=                      # Leave empty for random ngrok URLs

# LLM Configuration (Ollama-based)
# OLLAMA_HOST: Internal Docker network address (port always 11434 inside Docker)
# OLLAMA_PORT: External host port mapping (configurable for multi-stack)
OLLAMA_HOST=http://ollama:11434
LLAMA_MODEL=llama3.2:3b
# Available models: tinyllama, mistral, llama2, llama3.2:3b
# Models are managed by Ollama - run ./install_llm_models.sh to install
# HuggingFace token (optional - for some restricted models)
HUGGINGFACE_TOKEN=

# Voice Services Configuration
STT_SERVICE_URL=http://stt-service:8003
TTS_SERVICE_URL=http://tts-service:5002
TEXT_GENERATOR_URL=http://text-generator:8081

# Distributed Client Configuration
# For Mac/iOS clients connecting to backend
BACKEND_HOST=192.168.1.100
BACKEND_PORT=3000
BACKEND_PROTOCOL=http

# Whisper STT Configuration
WHISPER_MODEL=base
# Options: tiny, base, small, medium, large (larger = better quality, more resource usage)
WHISPER_DEVICE=cpu
# Options: cpu, cuda (for GPU acceleration)
WHISPER_COMPUTE_TYPE=int8
# Options: int8, int16, float16, float32 (int8 is fastest)

# GUN Configuration (for private/temporary storage)
GUN_PEERS=http://gun-relay:8765
GUN_ENABLE_ENCRYPTION=true
GUN_DEFAULT_PRIVACY=false

# GUN Sync Configuration (for multi-node synchronization)
GUN_SYNC_ENABLED=true
# GUN_SYNC_INTERVAL: How often to check for new records from other nodes (milliseconds)
# Default: 300000 (5 minutes) - reduced from 30s to prevent socket/memory leaks
# Lower values = more frequent sync but higher resource usage
GUN_SYNC_INTERVAL=300000
GUN_REGISTRY_ROOT=oip:registry
GUN_NODE_ID_OVERRIDE=
GUN_SYNC_PRIVATE_RECORDS=true
GUN_SYNC_TRUSTED_NODES=
GUN_EXTERNAL_PEERS=

# Custom Public Directory Configuration
# Set to 'true' to serve static files from parent directory's public/ folder
# Useful for multi-deployment scenarios like RockHoppersGame/public/
CUSTOM_PUBLIC_PATH=false

# Multi-Stack Deployment Configuration
# Unique project name to avoid Docker conflicts when running multiple OIP stacks
# This affects container names, network names, and volume names
COMPOSE_PROJECT_NAME=oip-arweave-indexer

# Service Port Configuration (for running multiple OIP stacks)
# Main OIP API port (already configured above as PORT)
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_TRANSPORT_PORT=9300
KIBANA_PORT=5601
IPFS_SWARM_PORT=4001
IPFS_API_PORT=5001
IPFS_GATEWAY_PORT=8080
OLLAMA_PORT=11434
TEXT_GENERATOR_PORT=8081
STT_SERVICE_PORT=8003
TTS_SERVICE_PORT=8005
SPEECH_SYNTHESIZER_PORT=8082
GUN_RELAY_PORT=8765
ARIO_GATEWAY_PORT=4000
NGROK_DASHBOARD_PORT=4040
DEBUG_PORT=9229
NEXT_FRONTEND_PORT=3000